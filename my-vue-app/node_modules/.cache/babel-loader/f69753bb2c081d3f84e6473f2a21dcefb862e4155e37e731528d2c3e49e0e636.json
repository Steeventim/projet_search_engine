{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withModifiers as _withModifiers, vModelCheckbox as _vModelCheckbox, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" Formulaire de Connexion \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.submitLogin && $options.submitLogin(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.loginEmail = $event),\n    placeholder: \"Email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loginEmail]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.loginPassword = $event),\n    placeholder: \"Password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loginPassword]]), _cache[9] || (_cache[9] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Login\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Formulaire d'Inscription \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $options.submitSignup && $options.submitSignup(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.signupFirstName = $event),\n    placeholder: \"First Name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.signupFirstName]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.signupLastName = $event),\n    placeholder: \"Last Name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.signupLastName]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.signupEmail = $event),\n    placeholder: \"Email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.signupEmail]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.signupPassword = $event),\n    placeholder: \"Password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.signupPassword]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.termsAccepted = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.termsAccepted]]), _cache[10] || (_cache[10] = _createTextVNode(\" I Accept the Terms & Conditions \")), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: !$data.valid\n  }, \"Sign up\", 8 /* PROPS */, _hoisted_1)], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["_createElementBlock","_createCommentVNode","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","submitLogin","type","$event","$data","loginEmail","placeholder","loginPassword","submitSignup","signupFirstName","signupLastName","signupEmail","signupPassword","termsAccepted","_createTextVNode","disabled","valid","_hoisted_1"],"sources":["/home/tims/Api_ES_project/my-vue-app/src/components/LoginForm.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- Formulaire de Connexion -->\n    <form @submit.prevent=\"submitLogin\">\n      <input type=\"email\" v-model=\"loginEmail\" placeholder=\"Email\" />\n      <input type=\"password\" v-model=\"loginPassword\" placeholder=\"Password\" />\n      <button type=\"submit\">Login</button>\n    </form>\n\n    <!-- Formulaire d'Inscription -->\n    <form @submit.prevent=\"submitSignup\">\n      <input type=\"text\" v-model=\"signupFirstName\" placeholder=\"First Name\" />\n      <input type=\"text\" v-model=\"signupLastName\" placeholder=\"Last Name\" />\n      <input type=\"email\" v-model=\"signupEmail\" placeholder=\"Email\" />\n      <input type=\"password\" v-model=\"signupPassword\" placeholder=\"Password\" />\n      <input type=\"checkbox\" v-model=\"termsAccepted\" /> I Accept the Terms &\n      Conditions\n      <button type=\"submit\" :disabled=\"!valid\">Sign up</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { authService } from \"../services/authService\"; // Importation du service d'authentification\n\nexport default {\n  data() {\n    return {\n      step: 1,\n      valid: false,\n      loginEmail: \"\",\n      loginPassword: \"\",\n      rememberMe: false,\n      signupFirstName: \"\",\n      signupLastName: \"\",\n      signupEmail: \"\",\n      signupPassword: \"\",\n      termsAccepted: false,\n    };\n  },\n  methods: {\n    isValidEmail(email) {\n      const regex = /.+@.+\\..+/;\n      return regex.test(email);\n    },\n    async submitLogin() {\n      if (this.isValidEmail(this.loginEmail) && this.loginPassword) {\n        try {\n          const response = await authService.login(\n            this.loginEmail,\n            this.loginPassword\n          );\n          console.log(\"Login success:\", response);\n        } catch (error) {\n          console.error(\"Login failed:\", error);\n          alert(\"Login failed. Please check your credentials.\");\n        }\n      } else {\n        alert(\"Please fill in valid login details\");\n      }\n    },\n    async submitSignup() {\n      if (\n        this.signupFirstName &&\n        this.signupLastName &&\n        this.isValidEmail(this.signupEmail) &&\n        this.signupPassword &&\n        this.termsAccepted\n      ) {\n        try {\n          const response = await authService.signup({\n            firstName: this.signupFirstName,\n            lastName: this.signupLastName,\n            email: this.signupEmail,\n            password: this.signupPassword,\n          });\n          console.log(\"Signup success:\", response);\n        } catch (error) {\n          console.error(\"Signup failed:\", error);\n          alert(\"Signup failed. Please try again.\");\n        }\n      } else {\n        alert(\"Please fill in valid signup details\");\n      }\n    },\n  },\n  watch: {\n    loginEmail() {\n      this.valid = this.isValidEmail(this.loginEmail) && this.loginPassword;\n    },\n    loginPassword() {\n      this.valid = this.isValidEmail(this.loginEmail) && this.loginPassword;\n    },\n    signupEmail() {\n      this.valid =\n        this.signupFirstName &&\n        this.signupLastName &&\n        this.isValidEmail(this.signupEmail) &&\n        this.signupPassword &&\n        this.termsAccepted;\n    },\n    signupPassword() {\n      this.valid =\n        this.signupFirstName &&\n        this.signupLastName &&\n        this.isValidEmail(this.signupEmail) &&\n        this.signupPassword &&\n        this.termsAccepted;\n    },\n  },\n};\n</script>\n"],"mappings":";mBAAA;;uBACEA,mBAAA,CAmBM,cAlBJC,mBAAA,6BAAgC,EAChCC,mBAAA,CAIO;IAJAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHjBC,cAAA,KAAAC,IAAA,KAG2BC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;sBAChCJ,mBAAA,CAA+D;IAAxDO,IAAI,EAAC,OAAO;IAJzB,uBAAAL,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAImCC,KAAA,CAAAC,UAAU,GAAAF,MAAA;IAAEG,WAAW,EAAC;iDAAxBF,KAAA,CAAAC,UAAU,E,mBACvCV,mBAAA,CAAwE;IAAjEO,IAAI,EAAC,UAAU;IAL5B,uBAAAL,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAKsCC,KAAA,CAAAG,aAAa,GAAAJ,MAAA;IAAEG,WAAW,EAAC;iDAA3BF,KAAA,CAAAG,aAAa,E,6BAC7CZ,mBAAA,CAAoC;IAA5BO,IAAI,EAAC;EAAQ,GAAC,OAAK,qB,4BAG7BR,mBAAA,8BAAiC,EACjCC,mBAAA,CASO;IATAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAVjBC,cAAA,KAAAC,IAAA,KAU2BC,QAAA,CAAAQ,YAAA,IAAAR,QAAA,CAAAQ,YAAA,IAAAT,IAAA,CAAY;sBACjCJ,mBAAA,CAAwE;IAAjEO,IAAI,EAAC,MAAM;IAXxB,uBAAAL,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAWkCC,KAAA,CAAAK,eAAe,GAAAN,MAAA;IAAEG,WAAW,EAAC;iDAA7BF,KAAA,CAAAK,eAAe,E,mBAC3Cd,mBAAA,CAAsE;IAA/DO,IAAI,EAAC,MAAM;IAZxB,uBAAAL,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAYkCC,KAAA,CAAAM,cAAc,GAAAP,MAAA;IAAEG,WAAW,EAAC;iDAA5BF,KAAA,CAAAM,cAAc,E,mBAC1Cf,mBAAA,CAAgE;IAAzDO,IAAI,EAAC,OAAO;IAbzB,uBAAAL,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAamCC,KAAA,CAAAO,WAAW,GAAAR,MAAA;IAAEG,WAAW,EAAC;iDAAzBF,KAAA,CAAAO,WAAW,E,mBACxChB,mBAAA,CAAyE;IAAlEO,IAAI,EAAC,UAAU;IAd5B,uBAAAL,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAcsCC,KAAA,CAAAQ,cAAc,GAAAT,MAAA;IAAEG,WAAW,EAAC;iDAA5BF,KAAA,CAAAQ,cAAc,E,mBAC9CjB,mBAAA,CAAiD;IAA1CO,IAAI,EAAC,UAAU;IAf5B,uBAAAL,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAesCC,KAAA,CAAAS,aAAa,GAAAV,MAAA;qDAAbC,KAAA,CAAAS,aAAa,E,+BAfnDC,gBAAA,CAeuD,mCAGjD,IAAAnB,mBAAA,CAAyD;IAAjDO,IAAI,EAAC,QAAQ;IAAEa,QAAQ,GAAGX,KAAA,CAAAY;KAAO,SAAO,iBAlBtDC,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}